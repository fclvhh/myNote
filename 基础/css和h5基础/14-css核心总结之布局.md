# 视觉格式化模型

## 〖核心〗

- 在一个文档中，每个元素都被表示为0、1或多个矩形的盒子。
  - 元素要么是文本〔文字就是二进制代码啊〕,要么是矩形盒
  - 文字一般默认放在矩形盒里面「我们可以手动放:比如span标签, 我们不用元素包括,浏览器处理时,也会默认放到自动创建的盒子哦」
  - 小的矩形盒子,可以装到大的矩形盒子里面
- 浏览器**渲染**页面,就是摆放盒子的过程
  - ⑴确定这些盒子的尺寸「size」
  - ⑵确定这些盒子的属性「property」: 如颜色，背景，边框
  - ⑶确定这些盒子的位置「position」

- 还有文本的绘制格式
  - 文本的大小  font-size
  - 文本的属性:如  字体  粗细  歪斜
  - 文本的位置:主要是垂直高度上的位置



## "矩形盒"

> 在CSS中，使用标准盒模型描述这些矩形盒子中的每一个。**这个模型描述了元素所占空间的内容**。每个盒子有四个边：外边距边, 边框边, 内填充边 与 内容边

![](assets\盒子模型3.png)

⑴实体边两个: 内容边和边框border

⑵margin和padding 描述距离

- padding描述:  内容边和border的距离
- margin描述:  是为了表示: 自身border距离别人的border的距离
  - 可能是设计失误
  - 到这这个描述距离的功能出bug
- margin bug常见场景1   **相邻块**

```html
<p style="margin-bottom: 30px;">这个段落的下外边距被合并...</p>
<p style="margin-top: 20px;">...这个段落的上外边距被合并。</p>
```

⒈p1表示自身的「下border」距离p2的「上border」为30px

⒉紧接着 p2表示自身的border-top距离p1的border-bottom为20px

⒊很明显矛盾了啊, 为了最大程度上的平息矛盾,选择满足了距离大的 ,  这就是所谓的外边距合并

- margin bug 常见场景2   **父和他的第一个孩子或者最后一个孩子**

[父与子](http://js.jirengu.com/?html,css,output)

⒈抠字眼: margin 负责表示自身与别人的border之间的距离, 但是自己的孩子的margin 也是值的自身border和别人border的距离(不是与father的border之间的距离)

⒉自己父亲的border不算入参考



## 一大堆"盒子"相关的概念

### 简单概念

**⑴块**

文档流种的独立区域

**⑵包含块**

包含块是块

包含着盒子的块

**⑶盒子**

css引擎根据文档中的内容创建的模型 就是盒子

我们常见的盒模型

**⑷块级元素和行内级元素**

是元素

由display属性值所决定

inline-block也是行内级元素



### 复合概念

**①块级盒子**

块级元素+盒子 =>块级盒子

块级元素被css引擎解析自动生成的模型

**②块容器盒子**

块容器+盒子 =>块盒子

块容器:作为容器的一个区域

简单理解: 含有子元素的元素被css引擎解析生成的玩意

**③块盒子**

简单理解: 父元素为块级元素,且有子元素,被css引擎解析生成

就是我们平常应用场景种经常出现的

**④行盒子**

行内级元素参与格式化上下文(IFC),之后被css引擎解析,生成的盒子

**⑤匿名行内盒**

类似于匿名块盒，CSS引擎有时候有必要生成匿名行内盒。

常见的例子是**块级盒直接包含文本**，那么这些文本将包含在匿名行内盒中。(空白如果使用white-space去掉，则不会生成匿名行内盒)



==块级盒子也会参与BFC==





# 块盒和行盒

行盒:装文本的,也就是0,1代码     自然不用设置高度,宽度

块盒: 装盒子的,可以是行盒也可以是块盒



BFC就是负责块盒和行盒的上下布局

BFC的规则:

1. 行盒在块盒一行接一行
2. 块盒在块盒中独占一行
3. 同一个BFC的块盒margin 会合并
   1. 解决margin合并的思路
   2. 
4. BFC是一个独立的区域,外面浮动进不来,里面的浮动出不去
   1. 不会高度塌陷



所谓普通流就是BFC的规则实现!



# 盒子与容器的关系

## 等级关系

> 文本<行盒<块盒<容器



## 规则

1. 高级别的可以装低级别和同级别的
2. BFC容器内部的盒子看不见容器
3. 浮动容器比较特殊: 行盒看的见,块盒看不见





# 布局

上下布局: margin +padding 调整位置

1. 盒子尺寸 : height+width
2. 盒子占位 ：margin 
3. 盒子位置 : margin

左右布局:

- 浮动实现
  - 大小: height+width
  - 占位：自己的紧贴包含块边的规则， 距离不够就换行
  - 位置 : margin  

特殊布局：

- 只能定位实现
  - 大小：height+width
  - 占位 ：覆盖
  - 位置 :  方向定原点，坐标表距离原点的位置

